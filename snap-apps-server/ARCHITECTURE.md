# Snap Apps Server Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SNAP APPS ECOSYSTEM                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   iOS App       â”‚
                              â”‚   (Mobile)      â”‚
                              â”‚                 â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚ SnapApp   â”‚  â”‚
                              â”‚  â”‚ Card.tsx  â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
                              â”‚        â”‚        â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â”‚ Create/Share
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          VERCEL SNAP APPS SERVER                                  â”‚
â”‚                          (snap-apps.minnow.so)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              API LAYER                                       â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   /api/snap-apps              /api/snap-apps/[id]        /api/schedule       â”‚ â”‚
â”‚  â”‚   â”œâ”€ POST create              â”œâ”€ GET read                â”œâ”€ POST create job  â”‚ â”‚
â”‚  â”‚   â””â”€ GET list                 â”œâ”€ PATCH update            â””â”€ DELETE cancel    â”‚ â”‚
â”‚  â”‚                               â”œâ”€ DELETE remove                               â”‚ â”‚
â”‚  â”‚                               â””â”€ POST share action                           â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   /api/cron/refresh           /api/og/[id]                                   â”‚ â”‚
â”‚  â”‚   â””â”€ GET process jobs         â””â”€ GET dynamic OG image                        â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                          â”‚
â”‚                                       â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           STORAGE LAYER                                      â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚   â”‚   Vercel KV       â”‚    â”‚   Vercel Blob     â”‚    â”‚   Edge Config    â”‚   â”‚ â”‚
â”‚  â”‚   â”‚   (Redis)         â”‚    â”‚   (S3)            â”‚    â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚                   â”‚    â”‚                   â”‚    â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ Snap App data   â”‚    â”‚ â€¢ OG images       â”‚    â”‚ â€¢ Feature flags  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ Scheduled jobs  â”‚    â”‚ â€¢ Screenshots     â”‚    â”‚ â€¢ Rate limits    â”‚   â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ View/share      â”‚    â”‚ â€¢ Exports         â”‚    â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚   counters        â”‚    â”‚                   â”‚    â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚ â€¢ User indexes    â”‚    â”‚                   â”‚    â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                          â”‚
â”‚                                       â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            UI LAYER                                          â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   /                           /app/[id]                    /explore          â”‚ â”‚
â”‚  â”‚   Landing Page                Public Share Page            Browse Snap Apps  â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   Components:                                                                â”‚ â”‚
â”‚  â”‚   â”œâ”€ SnapAppCard.tsx         (Full card renderer)                           â”‚ â”‚
â”‚  â”‚   â”œâ”€ ContentRenderer.tsx     (Type-specific content)                        â”‚ â”‚
â”‚  â”‚   â”œâ”€ InsightBadge.tsx        (Positive/negative/warning badges)             â”‚ â”‚
â”‚  â”‚   â”œâ”€ ShareActions.tsx        (Copy/share/social)                            â”‚ â”‚
â”‚  â”‚   â””â”€ CreateYourOwnCTA.tsx    (Conversion component)                         â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                 â”‚                 â”‚
                     â–¼                 â–¼                 â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   Twitter     â”‚ â”‚   iMessage    â”‚ â”‚   Other       â”‚
             â”‚   Share       â”‚ â”‚   Share       â”‚ â”‚   Platforms   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. Snap App Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mobile  â”‚â”€â”€â”€â–¶â”‚ AI Assistant â”‚â”€â”€â”€â–¶â”‚ Snap App Store  â”‚â”€â”€â”€â–¶â”‚ Server API    â”‚
â”‚  Query   â”‚    â”‚ (Claude)     â”‚    â”‚ (Local)         â”‚    â”‚ POST /api/... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                           â”‚ Vercel KV     â”‚
                                                           â”‚ (Stored)      â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Share Flow (Complete Loop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. User     â”‚â”€â”€â”€â”€â–¶â”‚  2. Generate â”‚â”€â”€â”€â”€â–¶â”‚  3. Share    â”‚â”€â”€â”€â”€â–¶â”‚  4. Friend   â”‚
â”‚  creates     â”‚     â”‚  share URL   â”‚     â”‚  via iMsg/   â”‚     â”‚  opens URL   â”‚
â”‚  Snap App    â”‚     â”‚  /app/:id    â”‚     â”‚  Twitter     â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                       â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. Server   â”‚â”€â”€â”€â”€â–¶â”‚  6. Render   â”‚â”€â”€â”€â”€â–¶â”‚  7. Show     â”‚â”€â”€â”€â”€â–¶â”‚  8. Convert  â”‚
â”‚  loads from  â”‚     â”‚  SnapAppCard â”‚     â”‚  "Create     â”‚     â”‚  to app      â”‚
â”‚  Vercel KV   â”‚     â”‚  component   â”‚     â”‚  Your Own"   â”‚     â”‚  download    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Automation/Refresh Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vercel Cron    â”‚
â”‚ (Every 15 min) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/cron  â”‚â”€â”€â”€â”€â–¶â”‚ Get pending    â”‚â”€â”€â”€â”€â–¶â”‚ For each job:  â”‚
â”‚ /refresh       â”‚     â”‚ jobs from KV   â”‚     â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                              â”‚                  â”‚
        â–¼                                              â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Call webhook   â”‚                          â”‚ Update Snap    â”‚   â”‚ Mark job       â”‚
â”‚ to refresh     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ App data       â”‚   â”‚ complete &     â”‚
â”‚ data           â”‚                          â”‚ in KV          â”‚   â”‚ reschedule     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Snap App Types

| Type | Icon | Use Case | Data Structure |
|------|------|----------|----------------|
| `price_comparison` | ğŸ“Š | Compare prices across retailers | `{ items: [{ name, price, rating }] }` |
| `product_gallery` | ğŸ›’ | Browse product options | `{ items: [{ name, price, score, image }] }` |
| `article` | ğŸ“„ | Summarize web content | `{ summary, keyPoints: [] }` |
| `map_view` | ğŸ—ºï¸ | Location-based results | `{ locations: [{ name, lat, lng, info }] }` |
| `availability` | ğŸ“… | Date/time availability | `{ dates: [{ date, price, available }] }` |
| `code_block` | ğŸ’» | Code snippets | `{ code, language }` |
| `data_table` | ğŸ“‹ | Structured data | `{ headers: [], rows: [[]] }` |
| `smart_card` | âœ¨ | General AI responses | `{ content, highlights: [] }` |

## API Reference

### Create Snap App
```
POST /api/snap-apps
Content-Type: application/json

{
  "title": "iPhone 15 Pro Price Comparison",
  "subtitle": "Best deals across major retailers",
  "type": "price_comparison",
  "data": { "items": [...] },
  "insights": [{ "type": "positive", "icon": "âœ“", "text": "Best price at Amazon" }],
  "sourceUrl": "https://...",
  "isPublic": true
}

Response: { "success": true, "data": { "id": "abc123", ... } }
```

### Get Snap App
```
GET /api/snap-apps/:id

Response: { "success": true, "data": { ... } }
```

### Schedule Refresh
```
POST /api/schedule
Content-Type: application/json

{
  "snapAppId": "abc123",
  "intervalMinutes": 60,
  "webhookUrl": "https://your-webhook.com/refresh"
}

Response: { "success": true, "data": { "id": "job123", "nextRun": "..." } }
```

## File Structure

```
snap-apps-server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ snap-apps/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts          # POST create, GET list
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts      # GET, PATCH, DELETE, POST share
â”‚   â”‚   â”‚   â”œâ”€â”€ schedule/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts          # POST create job, DELETE cancel
â”‚   â”‚   â”‚   â”œâ”€â”€ cron/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ refresh/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts      # GET process pending jobs
â”‚   â”‚   â”‚   â””â”€â”€ og/
â”‚   â”‚   â”‚       â””â”€â”€ [id]/
â”‚   â”‚   â”‚           â””â”€â”€ route.tsx     # Dynamic OG image generation
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx          # Public share page
â”‚   â”‚   â”‚       â””â”€â”€ not-found.tsx     # 404 for invalid IDs
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # Landing page
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # Root layout
â”‚   â”‚   â””â”€â”€ globals.css               # Global styles
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SnapAppRenderer.tsx       # Type-specific renderers
â”‚   â”‚   â”œâ”€â”€ CreateYourOwnCTA.tsx      # Conversion CTA
â”‚   â”‚   â””â”€â”€ ShareActions.tsx          # Share functionality
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ storage.ts                # Vercel KV operations
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ snap-app.ts               # Zod schemas & TypeScript types
â”œâ”€â”€ vercel.json                       # Cron config & headers
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ next.config.ts
```

## Environment Variables

```env
# Vercel KV (auto-injected when linked)
KV_REST_API_URL=
KV_REST_API_TOKEN=
KV_REST_API_READ_ONLY_TOKEN=

# Vercel Blob (optional)
BLOB_READ_WRITE_TOKEN=

# Cron Security
CRON_SECRET=your-secret-here

# Public URL
NEXT_PUBLIC_BASE_URL=https://snap-apps.minnow.so
```

## Deployment

```bash
# Install Vercel CLI
npm i -g vercel

# Link to project
vercel link

# Add KV database
vercel env pull  # After setting up KV in dashboard

# Deploy
vercel --prod
```

## Performance Targets

| Metric | Target | Implementation |
|--------|--------|----------------|
| Page Load | < 1.5s | Edge runtime, KV caching |
| API Response | < 200ms | Edge functions, indexed queries |
| OG Image Gen | < 500ms | Satori/Edge, cached |
| Cron Batch | 10 jobs/run | Batched processing |
