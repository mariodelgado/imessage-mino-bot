"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{414:(e,t,a)=>{a.d(t,{ApplePassCard:()=>Y});var i=a(5155),s=a(2115),r=a(5895),l=a(1408),n=a(4879);let c=n.k5(["price_comparison","product_gallery","article","map_view","availability","code_block","data_table","smart_card","pricing_health","investor_dashboard"]),d=n.k5(["positive","negative","neutral","warning"]),o=n.Ik({icon:n.Yj(),text:n.Yj(),type:d}),x=n.Ik({label:n.Yj(),icon:n.Yj(),action:n.k5(["share","save","refresh","open_url","custom"]),url:n.Yj().optional()});n.Ik({id:n.Yj(),type:c,title:n.Yj(),subtitle:n.Yj().optional(),sourceUrl:n.Yj().optional(),shareUrl:n.Yj().optional(),data:n.g1(n.L5()),insights:n.YO(o),actions:n.YO(x),creatorId:n.Yj().optional(),creatorName:n.Yj().optional(),createdAt:n.au.date(),updatedAt:n.au.date(),viewCount:n.ai().default(0),shareCount:n.ai().default(0),isPublic:n.zM().default(!0),scheduleId:n.Yj().optional(),lastRefreshedAt:n.au.date().optional(),refreshInterval:n.ai().optional()}),n.Ik({type:c,title:n.Yj().min(1).max(200),subtitle:n.Yj().max(500).optional(),sourceUrl:n.Yj().url().optional(),data:n.g1(n.L5()),insights:n.YO(o).default([]),actions:n.YO(x).default([]),creatorId:n.Yj().optional(),creatorName:n.Yj().optional(),isPublic:n.zM().default(!0)}),n.Ik({title:n.Yj().min(1).max(200).optional(),subtitle:n.Yj().max(500).optional(),data:n.g1(n.L5()).optional(),insights:n.YO(o).optional(),isPublic:n.zM().optional()}),n.Ik({snapAppId:n.Yj(),cronExpression:n.Yj().optional(),intervalMinutes:n.ai().min(15).max(10080).optional(),webhookUrl:n.Yj().url().optional()}),n.Ik({id:n.Yj(),snapAppId:n.Yj(),cronExpression:n.Yj().optional(),intervalMinutes:n.ai().optional(),webhookUrl:n.Yj().optional(),lastRunAt:n.au.date().optional(),nextRunAt:n.au.date().optional(),isActive:n.zM().default(!0),createdAt:n.au.date()});let m={price_comparison:{icon:"chart-bar",label:"Price Comparison",color:"#10B981",description:"Compare prices across multiple sources"},product_gallery:{icon:"shopping-bag",label:"Product Gallery",color:"#8B5CF6",description:"Visual product comparison grid"},article:{icon:"document-text",label:"Article Summary",color:"#3B82F6",description:"Key points extracted from articles"},map_view:{icon:"map",label:"Map View",color:"#F59E0B",description:"Geographic data visualization"},availability:{icon:"calendar",label:"Availability",color:"#EC4899",description:"Date/time availability tracker"},code_block:{icon:"code",label:"Code Block",color:"#6366F1",description:"Syntax-highlighted code snippets"},data_table:{icon:"table",label:"Data Table",color:"#14B8A6",description:"Interactive data tables"},smart_card:{icon:"sparkles",label:"Smart Card",color:"#00D4FF",description:"AI-generated smart summary"},pricing_health:{icon:"heart",label:"Pricing Health",color:"#FF2D55",description:"Apple Health-style competitive pricing dashboard"},investor_dashboard:{icon:"briefcase",label:"Investor Dashboard",color:"#1E40AF",description:"Portfolio company news and updates for investors"}};function p(e){let{insight:t,index:a}=e,s={positive:"insight-positive",negative:"insight-negative",warning:"insight-warning",neutral:"insight-neutral"}[t.type];return(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1+.05*a,duration:.3},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ".concat(s),children:[(0,i.jsx)("span",{children:t.icon}),(0,i.jsx)("span",{className:"font-medium",children:t.text})]})}function h(e){let{data:t}=e,a=t.items||[],s=Math.max(...a.map(e=>e.price),1);return(0,i.jsx)("div",{className:"space-y-4",children:a.slice(0,5).map((e,t)=>{let l=e.price/s*100,n=e.price===Math.min(...a.map(e=>e.price));return(0,i.jsxs)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15+.08*t,duration:.3},className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/90 font-medium truncate pr-4",children:e.name}),(0,i.jsxs)("span",{className:"font-semibold whitespace-nowrap ".concat(n?"text-emerald-400":"text-cyan-400"),children:["$",e.price,n&&(0,i.jsx)("span",{className:"ml-2 text-xs bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded-full",children:"LOWEST"})]})]}),(0,i.jsx)("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:(0,i.jsx)(r.P.div,{initial:{width:0},animate:{width:"".concat(l,"%")},transition:{delay:.3+.1*t,duration:.5},className:"h-full rounded-full ".concat(n?"bg-gradient-to-r from-emerald-500 to-emerald-400":"bg-gradient-to-r from-cyan-600 to-cyan-400")})}),e.rating&&(0,i.jsxs)("div",{className:"text-xs text-white/50",children:["⭐".repeat(Math.floor(e.rating))," ",e.rating.toFixed(1)]})]},e.name)})})}function u(e){let{data:t}=e,a=t.items||[];return(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:a.slice(0,6).map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+.05*t,duration:.3},className:"glass rounded-xl p-3 text-center space-y-2",children:[(0,i.jsx)("div",{className:"w-12 h-12 mx-auto bg-violet-500/20 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDDBC️"})}),(0,i.jsx)("p",{className:"text-sm text-white/90 font-medium truncate",children:e.name}),(0,i.jsxs)("p",{className:"text-cyan-400 font-semibold",children:["$",e.price]}),e.score&&(0,i.jsxs)("div",{className:"text-xs text-white/50",children:["Score: ",e.score,"/10"]})]},e.name))})}function g(e){let{data:t}=e,a=t.summary||"",s=t.keyPoints||[];return(0,i.jsxs)("div",{className:"space-y-4",children:[a&&(0,i.jsx)(r.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"text-white/70 leading-relaxed",children:a}),s.length>0&&(0,i.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.15+.05*t,duration:.3},className:"flex items-start gap-3",children:[(0,i.jsx)("span",{className:"text-cyan-400",children:"•"}),(0,i.jsx)("span",{className:"text-white/80 text-sm",children:e})]},t))})]})}function b(e){let{data:t}=e,a=t.dates||[],s=Math.min(...a.map(e=>e.price));return(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:a.slice(0,7).map((e,t)=>{let a=e.price===s,l=new Date(e.date),n=l.toLocaleDateString("en-US",{weekday:"short"}),c=l.getDate();return(0,i.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+.04*t,duration:.2},className:"flex-1 min-w-[60px] p-2 rounded-lg text-center border ".concat(a?"bg-cyan-500/20 border-cyan-500/50":e.available?"bg-white/5 border-white/10":"bg-red-500/10 border-red-500/20 opacity-50"),children:[(0,i.jsx)("div",{className:"text-xs ".concat(a?"text-cyan-400":"text-white/50"),children:n}),(0,i.jsx)("div",{className:"text-lg font-semibold ".concat(a?"text-cyan-400":"text-white/90"),children:c}),(0,i.jsxs)("div",{className:"text-xs ".concat(e.available?a?"text-cyan-400":"text-white/70":"text-red-400"),children:["$",e.price]})]},e.date)})})}function y(e){let{data:t}=e,a=t.headers||[],s=t.rows||[];return(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{className:"border-b border-white/10",children:a.map((e,t)=>(0,i.jsx)("th",{className:"text-left py-2 px-3 text-white/70 font-medium",children:e},t))})}),(0,i.jsx)("tbody",{children:s.slice(0,10).map((e,t)=>(0,i.jsx)(r.P.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1+.03*t,duration:.2},className:"border-b border-white/5",children:e.map((e,t)=>(0,i.jsx)("td",{className:"py-2 px-3 text-white/80",children:e},t))},t))})]})})}function j(e){let{data:t}=e,a=t.code||"",s=t.language||"text";return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute top-2 right-2 text-xs text-white/50 bg-white/5 px-2 py-1 rounded",children:s}),(0,i.jsx)("pre",{className:"bg-black/30 rounded-xl p-4 overflow-x-auto",children:(0,i.jsx)("code",{className:"text-sm text-green-400 font-mono whitespace-pre",children:a})})]})}function v(e){let{data:t}=e,a=t.content||"",s=t.highlights||[];return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("p",{className:"text-white/80 leading-relaxed",children:a}),s.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,t)=>(0,i.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm",children:e},t))})]})}function f(e){let{data:t}=e,a=t.metrics,s=t.competitiveGrid||[],l=t.categories||[],n=e=>{switch(e){case"up":return"↑";case"down":return"↓";default:return"→"}};return(0,i.jsxs)("div",{className:"space-y-6",children:[a&&(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.values(a).map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+.05*t,duration:.3},className:"glass rounded-xl p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold ".concat((e=>{switch(e){case"good":return"text-emerald-400";case"warning":return"text-amber-400";case"bad":return"text-red-400";default:return"text-white/70"}})(e.status)),children:e.value}),(0,i.jsx)("div",{className:"text-xs text-white/50 mt-1",children:e.name}),null!==e.change&&(0,i.jsxs)("div",{className:"text-xs mt-1 ".concat("up"===e.trend?"text-emerald-400":"down"===e.trend?"text-red-400":"text-white/50"),children:[n(e.trend)," ",Math.abs(e.change),"%"]})]},e.name))}),s.length>0&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-white/70",children:"Competitive Pricing"}),(0,i.jsx)("div",{className:"space-y-2",children:s.slice(0,8).map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.15+.04*t,duration:.3},className:"flex items-center justify-between py-2 px-3 glass rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-white/90 font-medium",children:e.company}),(0,i.jsx)("span",{className:"text-xs text-white/40 bg-white/5 px-2 py-0.5 rounded",children:e.category})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-cyan-400 font-semibold",children:null!==e.proTierPrice?"$".concat(e.proTierPrice,"/mo"):"Custom"}),null!==e.vsYou&&(0,i.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded ".concat(e.vsYou>0?"bg-emerald-500/20 text-emerald-400":e.vsYou<0?"bg-red-500/20 text-red-400":"bg-white/10 text-white/50"),children:[e.vsYou>0?"+":"",e.vsYou,"%"]}),(0,i.jsx)("span",{className:"text-sm ".concat("up"===e.trend?"text-red-400":"down"===e.trend?"text-emerald-400":"text-white/30"),children:n(e.trend)})]})]},e.company))})]}),l.length>0&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-white/70",children:"Categories"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2+.03*t,duration:.2},className:"px-3 py-2 rounded-lg glass text-sm ".concat("below"===e.yourPosition?"border border-emerald-500/30":"above"===e.yourPosition?"border border-amber-500/30":""),children:[(0,i.jsx)("div",{className:"font-medium text-white/90",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-white/50",children:[null!==e.avgPrice?"Avg $".concat(e.avgPrice,"/mo"):"N/A"," •"," ",e.companies," tracked"]})]},e.name))})]})]})}function w(e){let{data:t}=e,a=t.companies||[],s=t.news||[],l=t.portfolioValue,n=t.dayChange,c=t.updatedAt;return(0,i.jsxs)("div",{className:"space-y-6",children:[(l||void 0!==n)&&(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:[.4,0,.2,1]},className:"relative overflow-hidden rounded-2xl p-5",style:{background:"linear-gradient(135deg, rgba(30, 64, 175, 0.15) 0%, rgba(30, 64, 175, 0.05) 100%)",boxShadow:"0 0 0 1px rgba(59, 130, 246, 0.1) inset, 0 4px 20px rgba(0, 0, 0, 0.2)"},children:[(0,i.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 rounded-full opacity-30 blur-3xl",style:{background:"radial-gradient(circle, rgba(59, 130, 246, 0.8) 0%, transparent 70%)"}}),(0,i.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-xs text-white/50 uppercase tracking-wider font-medium mb-1",children:"Portfolio Value"}),(0,i.jsx)("div",{className:"text-3xl font-bold text-white tracking-tight",children:l||"—"})]}),void 0!==n&&(0,i.jsxs)("div",{className:"text-right ".concat(n>=0?"text-emerald-400":"text-red-400"),children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[n>=0?"+":"",n,"%"]}),(0,i.jsx)("div",{className:"text-xs opacity-70",children:"Today"})]})]}),c&&(0,i.jsxs)("div",{className:"mt-3 text-xs text-white/40",children:["Last synced: ",c]})]}),a.length>0&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"text-xs font-semibold text-white/50 uppercase tracking-wider",children:"Portfolio Companies"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.slice(0,10).map((e,t)=>{var a;let s=(e=>{let t={active:{label:"Active",bg:"bg-blue-500/20",text:"text-blue-400"},acquired:{label:"Acquired",bg:"bg-purple-500/20",text:"text-purple-400"},public:{label:"Public",bg:"bg-emerald-500/20",text:"text-emerald-400"},board:{label:"Board",bg:"bg-amber-500/20",text:"text-amber-400"}};return t[e]||t.active})(e.status);return(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:8,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.05+.03*t,duration:.3,ease:[.4,0,.2,1]},className:"group relative overflow-hidden rounded-xl p-3 cursor-pointer transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",boxShadow:"0 0 0 1px rgba(255,255,255,0.06) inset"},children:[(0,i.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{background:"radial-gradient(circle at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%)"}}),(0,i.jsxs)("div",{className:"relative z-10",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-white/10 to-white/5 flex items-center justify-center text-sm font-bold text-white/80",children:e.name.charAt(0)}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-white truncate",children:e.name}),e.ticker&&(0,i.jsx)("div",{className:"text-xs text-white/40",children:e.ticker})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full ".concat(s.bg," ").concat(s.text),children:s.label}),(null==(a=e.metrics)?void 0:a.growth)!==void 0&&(0,i.jsxs)("span",{className:"text-xs font-medium ".concat(e.metrics.growth>=0?"text-emerald-400":"text-red-400"),children:[e.metrics.growth>=0?"+":"",e.metrics.growth,"%"]})]})]})]},e.name)})})]}),s.length>0&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"text-xs font-semibold text-white/50 uppercase tracking-wider",children:"Latest Updates"}),(0,i.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map((e,t)=>(0,i.jsxs)(r.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1+.04*t,duration:.3,ease:[.4,0,.2,1]},className:"relative overflow-hidden rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01] ".concat((e=>{switch(e){case"positive":return"bg-emerald-500/10 border-emerald-500/20";case"negative":return"bg-red-500/10 border-red-500/20";default:return"bg-white/5 border-white/10"}})(e.sentiment)),children:[(0,i.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 ".concat("positive"===e.sentiment?"bg-emerald-500":"negative"===e.sentiment?"bg-red-500":"bg-white/20")}),(0,i.jsxs)("div",{className:"pl-2",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("span",{className:"text-xs font-semibold text-blue-400 mr-2",children:e.company}),(0,i.jsxs)("span",{className:"text-xs text-white/40",children:[e.source," \xb7 ",e.date]})]}),(0,i.jsx)("span",{className:"text-lg ".concat((e=>{switch(e){case"positive":return"text-emerald-400";case"negative":return"text-red-400";default:return"text-white/60"}})(e.sentiment)),children:"positive"===e.sentiment?"↑":"negative"===e.sentiment?"↓":"→"})]}),(0,i.jsx)("h4",{className:"text-sm font-medium text-white/90 leading-snug",children:e.title}),e.summary&&(0,i.jsx)("p",{className:"text-xs text-white/50 mt-2 line-clamp-2",children:e.summary})]})]},"".concat(e.company,"-").concat(t)))})]}),0===a.length&&0===s.length&&(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDCBC"}),(0,i.jsx)("div",{className:"text-white/50 text-sm",children:"No portfolio data available"})]})]})}function N(e){let{type:t,data:a}=e;switch(t){case"price_comparison":return(0,i.jsx)(h,{data:a});case"product_gallery":return(0,i.jsx)(u,{data:a});case"article":return(0,i.jsx)(g,{data:a});case"availability":return(0,i.jsx)(b,{data:a});case"data_table":return(0,i.jsx)(y,{data:a});case"code_block":return(0,i.jsx)(j,{data:a});case"smart_card":return(0,i.jsx)(v,{data:a});case"pricing_health":return(0,i.jsx)(f,{data:a});case"investor_dashboard":return(0,i.jsx)(w,{data:a});default:return(0,i.jsx)("div",{className:"text-white/50 text-sm",children:"Content preview not available"})}}let k={price_comparison:{primary:"#00D4FF",secondary:"#0099CC",accent:"#00B8E6"},product_gallery:{primary:"#8B5CF6",secondary:"#7C3AED",accent:"#A78BFA"},article:{primary:"#F59E0B",secondary:"#D97706",accent:"#FBBF24"},map_view:{primary:"#10B981",secondary:"#059669",accent:"#34D399"},availability:{primary:"#EC4899",secondary:"#DB2777",accent:"#F472B6"},code_block:{primary:"#6366F1",secondary:"#4F46E5",accent:"#818CF8"},data_table:{primary:"#14B8A6",secondary:"#0D9488",accent:"#2DD4BF"},smart_card:{primary:"#F97316",secondary:"#EA580C",accent:"#FB923C"},pricing_health:{primary:"#EF4444",secondary:"#DC2626",accent:"#F87171"},investor_dashboard:{primary:"#1E40AF",secondary:"#1E3A8A",accent:"#3B82F6"}},_={price_comparison:"\uD83D\uDCCA",product_gallery:"\uD83D\uDED2",article:"\uD83D\uDCC4",map_view:"\uD83D\uDDFA️",availability:"\uD83D\uDCC5",code_block:"\uD83D\uDCBB",data_table:"\uD83D\uDCCB",smart_card:"✨",pricing_health:"❤️",investor_dashboard:"\uD83D\uDCBC"};function C(e){let{id:t,color:a}=e,s=t.split("").map((e,t)=>(e.charCodeAt(0)+t)%4+1);return(0,i.jsx)("div",{className:"flex items-center justify-center gap-[2px] h-12 px-4",children:s.slice(0,30).map((e,t)=>(0,i.jsx)("div",{className:"h-full rounded-sm",style:{width:"".concat(2*e,"px"),backgroundColor:t%2==0?a:"".concat(a,"40")}},t))})}function P(e){let{onClick:t,isLoading:a,color:s}=e;return(0,i.jsxs)(r.P.button,{onClick:t,disabled:a,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium text-sm transition-all",style:{backgroundColor:"".concat(s,"20"),color:s,border:"1px solid ".concat(s,"40")},children:[(0,i.jsx)(r.P.span,{animate:a?{rotate:360}:{rotate:0},transition:a?{repeat:1/0,duration:1,ease:"linear"}:{},children:"\uD83D\uDD04"}),a?"Refreshing...":"Refresh Data"]})}function D(e){let{date:t,isStale:a}=e,s=function(e){let t=Math.floor((new Date().getTime()-new Date(e).getTime())/6e4),a=Math.floor(t/60),i=Math.floor(a/24);return i>0?"".concat(i,"d ago"):a>0?"".concat(a,"h ago"):t>0?"".concat(t,"m ago"):"just now"}(t);return(0,i.jsx)("div",{className:"flex items-center gap-2 text-xs",children:(0,i.jsxs)("span",{className:a?"text-amber-400":"text-white/50",children:[a?"⚠️":"✓"," Updated ",s]})})}function Y(e){let{app:t,onRefresh:a}=e,[n,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)(null),[x,h]=(0,s.useState)(t),u=k[x.type]||k.smart_card,g=_[x.type]||"✨",b=m[x.type],y=new Date().getTime()-new Date(x.updatedAt).getTime()>36e5,j=(0,s.useCallback)(async()=>{c(!0),o(null);try{let e=await fetch("/api/snap-apps/".concat(x.id,"/refresh"),{method:"POST"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to refresh")}let t=await e.json();if(t.success&&t.data)h(t.data),null==a||a(t.data);else throw Error(t.error||"No data received")}catch(e){o(e instanceof Error?e.message:"Refresh failed")}finally{c(!1)}},[x.id,a]);return(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:[.4,0,.2,1]},className:"w-full max-w-md mx-auto",children:[(0,i.jsxs)("div",{className:"relative overflow-hidden rounded-[28px] backdrop-blur-xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 50%, rgba(0,0,0,0.2) 100%)",boxShadow:"\n            0 0 0 1px rgba(255,255,255,0.1),\n            0 0 0 1px ".concat(u.primary,"15 inset,\n            0 4px 6px -1px rgba(0,0,0,0.3),\n            0 10px 20px -5px rgba(0,0,0,0.4),\n            0 25px 50px -12px ").concat(u.primary,"25,\n            0 50px 100px -20px rgba(0,0,0,0.5)\n          ")},children:[(0,i.jsxs)("div",{className:"relative h-28 overflow-hidden",style:{background:"linear-gradient(135deg, ".concat(u.primary," 0%, ").concat(u.secondary," 100%)")},children:[(0,i.jsx)("div",{className:"absolute -right-8 -top-8 w-32 h-32 rounded-full opacity-20",style:{backgroundColor:u.accent}}),(0,i.jsx)("div",{className:"absolute -left-4 -bottom-4 w-24 h-24 rounded-full opacity-15",style:{backgroundColor:"#fff"}}),(0,i.jsxs)("div",{className:"relative z-10 p-5 h-full flex flex-col justify-between",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-3xl",children:g}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-[10px] font-bold uppercase tracking-wider text-white/80",children:(null==b?void 0:b.label)||x.type.replace("_"," ")}),(0,i.jsx)("h1",{className:"text-lg font-bold text-white leading-tight",children:x.title})]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-white",children:x.viewCount.toLocaleString()}),(0,i.jsx)("div",{className:"text-[10px] text-white/70 uppercase",children:"views"})]})]}),x.subtitle&&(0,i.jsx)("p",{className:"text-sm text-white/80 truncate",children:x.subtitle})]})]}),(0,i.jsxs)("div",{className:"p-5 space-y-5",children:[(0,i.jsx)("div",{className:"min-h-[120px]",children:(0,i.jsx)(N,{type:x.type,data:x.data})}),x.insights.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:x.insights.map((e,t)=>(0,i.jsx)(p,{insight:e,index:t},t))}),(0,i.jsx)(l.N,{children:d&&(0,i.jsx)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:d})}),(0,i.jsx)("div",{className:"h-px w-full",style:{background:"linear-gradient(90deg, transparent, ".concat(u.primary,"40, transparent)")}}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(D,{date:x.updatedAt,isStale:y}),(0,i.jsx)(P,{onClick:j,isLoading:n,color:u.primary})]})]}),(0,i.jsxs)("div",{className:"py-4 mt-2",style:{background:"linear-gradient(180deg, transparent 0%, ".concat(u.primary,"08 100%)"),borderTop:"1px dashed ".concat(u.primary,"30")},children:[(0,i.jsx)(C,{id:x.id,color:u.primary}),(0,i.jsx)("div",{className:"text-center mt-2",children:(0,i.jsx)("span",{className:"text-[10px] text-white/30 font-mono tracking-wider",children:x.id.toUpperCase()})})]}),x.sourceUrl&&(0,i.jsx)("div",{className:"px-5 py-3 bg-black/30",children:(0,i.jsxs)("a",{href:x.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-white/40 hover:text-white/60 transition-colors truncate block",children:["\uD83D\uDCCD ",new URL(x.sourceUrl).hostname]})})]}),(0,i.jsx)("div",{className:"mt-4 text-center",children:(0,i.jsxs)("span",{className:"text-xs text-white/30",children:[x.shareCount>0&&"Shared ".concat(x.shareCount," times • "),"Powered by Mino"]})})]})}}}]);